variables
— groups: int set
— dependencies: a determined set for each group position

fail:
if gi in groups.lower:
  if none of dep[gi] in groups.upper

entailed:
for all gi in groups.lower:
  all dep[gi] is in groups.lower

infer:
for all gi not in groups.upper:
  for all gj in groups.upper:
    if gi is the only member of dep[gj]:
      discard_upper gj from groups
for all gi in groups.lower:
  if dep[gj] has only one element, strengthen_lower dep[gj][0] in groups

  

